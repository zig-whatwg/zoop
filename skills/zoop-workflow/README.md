# Zoop Workflow Skill

This skill teaches AI assistants how to develop Zig libraries using the Zoop object-oriented code generation system.

## What This Skill Covers

- **Project structure** - Understanding source vs generated files
- **Strict rules** - Never editing generated files (emphasized first)
- **Development workflow** - Edit → Build → Test → Commit cycle
- **Zoop architecture** - How inheritance, properties, and mixins work
- **Cache system** - Smart incremental builds with descendant tracking
- **Build integration** - Using zoop helpers in build.zig
- **Common tasks** - Quick reference for frequent operations
- **Troubleshooting** - Fixing common issues

## When This Skill Loads

This skill should be loaded when:
- Working on a project that uses Zoop (has `zoop_src/` directory or imports `@import("zoop")`)
- Creating a new Zoop-based library
- Debugging issues with zoop code generation
- Setting up zoop build integration

## Key Concepts

### 1. Never Edit Generated Files

The most important rule is **NEVER edit generated files**. These are in the output directory (typically `src/`) and have a `DO NOT EDIT` header. All changes must be made to source files in the source directory (typically `zoop_src/`).

### 2. Two-Directory System

- **Source directory** (`zoop_src/`) - Edit these files
- **Output directory** (`src/`) - Generated by zoop-codegen, do not edit

### 3. Smart Caching

Zoop tracks file changes using content hashes and timestamps. When a parent class changes, all descendant classes are automatically regenerated.

### 4. Commit Both

Always commit both source files and generated files in the same commit. This allows reviewers to see exactly what code was generated.

## Files in This Skill

```
skills/zoop-workflow/
├── SKILL.md                    # Main skill document (load this)
├── README.md                   # This file (skill metadata)
└── examples/
    ├── user-admin/
    │   ├── user.zig           # Example: User base class
    │   └── admin.zig          # Example: Admin extends User
    └── build.zig              # Example build configuration
```

## Using This Skill

### For AI Assistants

When you detect a Zoop project:
1. Load this skill to understand the workflow
2. Check `build.zig` to find source_dir and output_dir
3. **Always** edit files in source_dir, never output_dir
4. Use `zig build` to regenerate after changes
5. Review generated files but don't modify them
6. Commit both source and generated files

### For Developers

This skill helps AI assistants:
- Recognize zoop project structure
- Follow the correct development workflow
- Avoid common mistakes (editing generated files)
- Use the cache system effectively
- Integrate zoop into build systems

## Example Workflow

```bash
# 1. Edit source file
vim zoop_src/user.zig

# 2. Build (auto-regenerates)
zig build

# 3. Test
zig build test

# 4. Review generated changes
git diff src/user.zig

# 5. Commit both
git add zoop_src/user.zig src/user.zig
git commit -m "Add email property to User"
```

## References

- **SKILL.md** - Complete workflow documentation
- **WORKFLOW_IMPLEMENTATION.md** - Technical implementation details
- **API_REFERENCE.md** - Zoop API documentation
- **CONSUMER_USAGE.md** - Integration guide

## Version

This skill is compatible with:
- Zoop version: 0.2.0+
- Zig version: 0.15.0+

## Contributing

To improve this skill:
1. Update SKILL.md with new information
2. Add/update examples in examples/
3. Test with real Zoop projects
4. Update this README if skill structure changes
